# Задача 4.2: Создание хука `useSettings`

## Описание
Создать пользовательский хук `useSettings`, используя React Query для эффективного получения и обновления настроек пользователя.

## Ссылки на документацию
docs/bizlevel-project-context.md
docs/status.md

## Конкретные шаги для Cursor
1. Создать файл `src/hooks/useSettings.ts`
2. Реализовать хук `useSettings`, используя `useQuery` для чтения настроек
3. Добавить `useMutation` для обновления настроек
4. Интегрировать уведомления для обратной связи (тосты)

## Промт для Cursor
```
Помоги мне создать хук `useSettings` для проекта BizLevel.

Нам нужно создать файл `src/hooks/useSettings.ts`, который будет содержать хук для работы с настройками пользователя, используя React Query.

1. Хук должен экспортировать функцию `useSettings`, которая:
   - Принимает параметр `userId` (опционально, если не передан, использует значение из `useAuth`)
   - Использует `useQuery` из `@tanstack/react-query` для получения настроек пользователя
   - Использует функцию `getUserSettings` из `settings-service.ts`
   - Правильно обрабатывает состояния загрузки и ошибок
   - Возвращает объект с данными настроек и состоянием запроса

2. Также нужно экспортировать функцию `useUpdateSettings`, которая:
   - Принимает параметр `userId` (опционально, как и выше)
   - Использует `useMutation` из `@tanstack/react-query` для обновления настроек
   - Использует функцию `updateUserSettings` из `settings-service.ts`
   - При успешном обновлении:
     - Инвалидирует соответствующий запрос в кэше React Query
     - Показывает уведомление об успехе через toast
   - При ошибке показывает уведомление об ошибке

3. Дополнительно, нужно создать хук `useUserProfile` для работы с полным профилем пользователя:
   - Аналогичен `useSettings`, но использует функции `getUserProfile` и `updateUserProfile`
   - Также включает методы для обновления профиля

Хуки должны правильно обрабатывать случаи, когда пользователь не аутентифицирован или данные еще загружаются.

Пожалуйста, создай файл `src/hooks/useSettings.ts` с указанной функциональностью.

После выполнения задачи обнови status.md, указав, что задача 4.2 выполнена.
```

## Ожидаемый результат
- Созданный файл `src/hooks/useSettings.ts`
- Реализованный хук `useSettings` с использованием `useQuery`
- Реализованный хук `useUpdateSettings` с использованием `useMutation`
- Реализованный хук `useUserProfile` для работы с полным профилем
- Добавленные toast-уведомления для обратной связи
- Обновленный файл status.md с отметкой о выполнении задачи 4.2

## Связь с другими задачами
- Эта задача следует за задачей 4.1: Создание `settings-service.ts`
- После выполнения этой задачи следует перейти к задаче 4.3: Создание страницы `/profile`

## Обновление progress-tracking
После выполнения задачи обновите файл development-plan.md, заменив `[ ]` на `[x]` для этой задачи:
```
* [x] **task-4.2-create-usesettings-hook.md**: Создание хука `useSettings` с `useQuery` и `useMutation`
```
