# Задача 5.9: Интеграция `useLevels` и `useProgress` в `LevelMap`

## Описание
Интегрировать хуки `useLevels` и `useProgress` в компонент `LevelMap` для отображения актуальных данных о статусе уровней на основе прогресса пользователя.

## Ссылки на документацию
docs/bizlevel-project-context.md
docs/status.md

## Конкретные шаги для Cursor
1. Обновить страницу `src/app/(routes)/map/page.tsx`
2. Интегрировать хук `useLevelsWithStatus` для получения уровней с их статусом
3. Добавить обработку состояний загрузки и ошибок
4. Реализовать функцию перехода к странице уровня при клике

## Промт для Cursor
```
Помоги мне интегрировать хуки `useLevels` и `useProgress` в компонент `LevelMap` для проекта BizLevel.

Мы уже создали компонент `LevelMap` и страницу `/map`, теперь нам нужно обновить страницу `src/app/(routes)/map/page.tsx`, чтобы:

1. Использовать хук `useLevelsWithStatus` для получения данных об уровнях с их статусом:
   - Импортировать хук из `src/hooks/useLevels`
   - Получить данные, состояние загрузки и ошибки
   - Передать данные в компонент `LevelMap`

2. Реализовать функцию перехода к странице уровня при клике:
   - Использовать `useRouter` из `next/navigation`
   - Создать функцию `handleLevelClick`, которая будет перенаправлять на страницу `/level/[levelId]`
   - Функция должна проверять, доступен ли уровень (статус 'Available' или 'Completed')
   - Если уровень заблокирован, показывать toast-уведомление о необходимости пройти предыдущие уровни

3. Добавить компонент для отображения общего прогресса:
   - Создать компонент `ProgressSummary` в `src/components/features/LevelMap/ProgressSummary.tsx`
   - Компонент должен отображать количество пройденных уровней из общего числа
   - Использовать Progress из shadcn/ui для визуализации

4. Улучшить UX:
   - Добавить плавные анимации при переходах между состояниями
   - Использовать Skeleton из shadcn/ui во время загрузки
   - Обрабатывать ошибки загрузки данных

Пожалуйста, обнови страницу `src/app/(routes)/map/page.tsx` и создай необходимые дополнительные компоненты.

После выполнения задачи обнови status.md, указав, что задача 5.9 выполнена.
```

## Ожидаемый результат
- Обновленная страница `src/app/(routes)/map/page.tsx` с использованием хука `useLevelsWithStatus`
- Созданный компонент `ProgressSummary` для отображения общего прогресса
- Реализованная функция перехода к странице уровня при клике
- Добавленная обработка состояний загрузки и ошибок
- Улучшенный UX с анимациями и скелетонами
- Обновленный файл status.md с отметкой о выполнении задачи 5.9

## Связь с другими задачами
- Эта задача следует за задачей 5.8: Реализация компонента `LevelMap`
- После выполнения этой задачи следует перейти к задаче 5.10: Создание страницы Деталей Уровня (`/level/[levelId]`)

## Обновление progress-tracking
После выполнения задачи обновите файл development-plan.md, заменив `[ ]` на `[x]` для этой задачи:
```
* [x] **task-5.9-integrate-levelmap-data.md**: Интеграция `useLevels` и `useProgress` в `LevelMap` для отображения статуса уровней
```
