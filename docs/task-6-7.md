# Задача 6.7: Загрузка тестовых артефактов в Firebase Storage и создание записей в Firestore

## Описание
Создать и загрузить тестовые артефакты в Firebase Storage, а также создать соответствующие записи в коллекции `artifacts` в Firestore для тестирования функциональности.

## Ссылки на документацию
- [Этап 6, Шаг 7](../BizLevel-%20План%20Реализации%20Проекта.%2031.03.rtf): Загрузка тестовых артефактов в Firebase Storage и создание записей в Firestore
- [Раздел 4.3: Модели Данных Firestore](../BizLevel-%20План%20Реализации%20Проекта.%2031.03.rtf): Описание коллекции `artifacts`

## Конкретные шаги для Cursor
1. Создать файл `src/scripts/upload-artifacts.js` с скриптом для загрузки артефактов
2. Подготовить тестовые файлы артефактов (PDF, DOCX, XLSX и т.д.)
3. Реализовать функцию загрузки файлов в Firebase Storage
4. Реализовать функцию создания записей в коллекции `artifacts` в Firestore

## Промт для Cursor
```
Помоги мне создать скрипт для загрузки тестовых артефактов в проект BizLevel.

Нам нужно создать файл `src/scripts/upload-artifacts.js`, который будет загружать тестовые артефакты в Firebase Storage и создавать соответствующие записи в коллекции `artifacts` в Firestore.

Скрипт должен:

1. Использовать Firebase Admin SDK для доступа к Firestore и Storage
2. Загружать тестовые файлы в Firebase Storage (можно использовать локальные файлы из папки `sample-files`)
3. Создавать записи в коллекции `artifacts` в Firestore для каждого загруженного файла
4. Связывать артефакты с уровнями, созданными в задаче 5.14

Подготовь примерные тестовые артефакты для разных уровней (не менее 2-3 на уровень):

1. Для уровня 1:
   - Шаблон бизнес-плана (PDF)
   - Таблица финансового планирования (XLSX)
   - Чек-лист для анализа рынка (PDF)

2. Для уровня 2:
   - Руководство по маркетингу (PDF)
   - Шаблон маркетингового плана (DOCX)
   - Калькулятор ROI маркетинговых кампаний (XLSX)

3. Для уровня 3:
   - Руководство по управлению персоналом (PDF)
   - Шаблон должностной инструкции (DOCX)
   - Калькулятор эффективности сотрудников (XLSX)

Для каждого артефакта создай запись в Firestore с следующими полями:
- id (автоматически генерируемый или заданный вручную)
- title (название артефакта)
- description (описание артефакта)
- fileURL (URL для скачивания файла из Storage)
- fileName (имя файла)
- fileType (тип файла: PDF, DOCX, XLSX)
- levelId (ID уровня, к которому относится артефакт)
- downloadCount (установи начальное значение 0)
- uploadedAt (текущая дата/время)

Также обнови записи уровней в Firestore, добавив ID артефактов в поле `relatedArtifactIds`.

Предоставь инструкции по запуску скрипта и предварительным условиям.

Пожалуйста, создай файл `src/scripts/upload-artifacts.js` с указанной функциональностью.

После выполнения задачи обнови status.md, указав, что задача 6.7 выполнена.
```

## Ожидаемый результат
- Созданный файл `src/scripts/upload-artifacts.js` с скриптом для загрузки артефактов
- Подготовленные тестовые артефакты для разных уровней
- Реализованная функция загрузки файлов в Firebase Storage
- Реализованная функция создания записей в коллекции `artifacts` в Firestore
- Обновленные записи уровней в Firestore с ID артефактов
- Инструкции по запуску скрипта и предварительным условиям
- Обновленный файл status.md с отметкой о выполнении задачи 6.7

## Связь с другими задачами
- Эта задача следует за задачей 6.6: Интеграция `markArtifactDownloaded` из `useProgress`
- После выполнения этой задачи завершается Этап 6 и можно перейти к Этапу 7: Чат с AI, начиная с задачи 7.1: Создание API Route для взаимодействия с OpenAI

## Обновление progress-tracking
После выполнения задачи обновите файл development-plan.md, заменив `[ ]` на `[x]` для этой задачи:
```
* [x] **task-6.7-upload-sample-artifacts.md**: Загрузка тестовых артефактов в Firebase Storage и создание записей в Firestore
```
