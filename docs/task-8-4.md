# Задача 8.4: Реализация отображения списка вопросов и ответов

## Описание
Реализовать компоненты для отображения списка вопросов и ответов с группировкой по категориям, интерактивными раскрывающимися элементами и интеграцией функциональности поиска.

## Ссылки на документацию
- [Этап 8, Шаг 4](../BizLevel-%20План%20Реализации%20Проекта.%2031.03.rtf): Реализация отображения списка вопросов и ответов с группировкой по категориям
- [Раздел 3.4: Чат и поддержка](../Данные%20по%20МВП,%2025.04.pdf): Описание типов вопросов в FAQ

## Конкретные шаги для Cursor
1. Доработать компоненты, созданные в задаче 8.3:
   - `FaqSearch.tsx`
   - `FaqCategories.tsx`
   - `FaqList.tsx`
   - `FaqItem.tsx`
2. Реализовать группировку вопросов по категориям
3. Добавить интерактивные раскрывающиеся элементы
4. Интегрировать функциональность поиска и фильтрации

## Промт для Cursor
```
Помоги мне реализовать отображение списка вопросов и ответов для страницы FAQ в проекте BizLevel.

Нам нужно доработать компоненты в директории `src/components/features/Faq/` для отображения списка вопросов и ответов с группировкой по категориям и интерактивными элементами.

1. Обнови компонент `FaqSearch.tsx`:
   - Должен принимать props:
     - `query: string` - текущий поисковый запрос
     - `onQueryChange: (query: string) => void` - функция для изменения поискового запроса
   - Должен отображать:
     - Поисковую строку с иконкой поиска
     - Кнопку очистки поиска (если есть текст)
     - Сообщение "Найдено X результатов" при поиске
   - Должен использовать компоненты из shadcn/ui (Input)

2. Обнови компонент `FaqCategories.tsx`:
   - Должен принимать props:
     - `categories: string[]` - список категорий
     - `selectedCategory: string | null` - выбранная категория
     - `onCategoryChange: (category: string | null) => void` - функция для изменения категории
     - `isLoading: boolean` - флаг загрузки
   - Должен отображать:
     - Список категорий в виде вкладок или кнопок
     - Выделенную выбранную категорию
     - Кнопку "Все категории" для сброса фильтра
   - Должен использовать компоненты из shadcn/ui (Tabs, Button или Card)
   - Должен показывать скелетоны (Skeleton из shadcn/ui) при загрузке

3. Обнови компонент `FaqList.tsx`:
   - Должен принимать props:
     - `faqs: FAQ[]` - список вопросов и ответов
     - `isLoading: boolean` - флаг загрузки
     - `query: string` - поисковый запрос (для подсветки результатов)
     - `groupByCategory: boolean` - флаг группировки по категориям
   - Должен отображать:
     - Вопросы и ответы, сгруппированные по категориям (если groupByCategory = true)
     - Простой список, если groupByCategory = false или выбрана конкретная категория
     - Сообщение "Ничего не найдено" если список пуст
   - Должен показывать скелетоны (Skeleton из shadcn/ui) при загрузке
   - Должен использовать компонент `FaqItem` для отображения отдельных вопросов и ответов

4. Обнови компонент `FaqItem.tsx`:
   - Должен принимать props:
     - `faq: FAQ` - данные вопроса и ответа
     - `query: string` - поисковый запрос (для подсветки результатов)
   - Должен отображать:
     - Вопрос и ответ в виде раскрывающегося элемента (Accordion из shadcn/ui)
     - Подсветку найденного текста, если указан query
   - Должен поддерживать форматирование Markdown в ответах (например, используя библиотеку react-markdown)
   - Должен быть интерактивным: клик по вопросу раскрывает/скрывает ответ

5. Создай файл `src/components/features/Faq/index.ts` для экспорта компонентов:
   ```typescript
   export { FaqSearch } from './FaqSearch';
   export { FaqCategories } from './FaqCategories';
   export { FaqList } from './FaqList';
   export { FaqItem } from './FaqItem';
   ```

6. Интегрируй эти компоненты на страницу FAQ (`src/app/(routes)/faq/page.tsx`):
   - Используй хук `useFaqState` для управления состоянием UI
   - Передавай соответствующие данные и функции в компоненты
   - Обеспечь корректное отображение при различных состояниях (загрузка, ошибка, пустой результат)

Все компоненты должны:
- Использовать компоненты из shadcn/ui для стилизации
- Быть типизированы с использованием TypeScript
- Иметь адаптивный дизайн для разных размеров экрана
- Иметь необходимые анимации для улучшения UX

Пожалуйста, обнови указанные компоненты и интегрируй их на страницу FAQ.

После выполнения задачи обнови status.md, указав, что задача 8.4 выполнена.
```

## Ожидаемый результат
- Обновленные компоненты:
  - `FaqSearch.tsx`
  - `FaqCategories.tsx`
  - `FaqList.tsx`
  - `FaqItem.tsx`
- Созданный файл `src/components/features/Faq/index.ts`
- Реализованная группировка вопросов по категориям
- Интерактивные раскрывающиеся элементы для вопросов и ответов
- Интегрированная функциональность поиска и фильтрации
- Подсветка результатов поиска
- Обновленная страница FAQ с интегрированными компонентами
- Обновленный файл status.md с отметкой о выполнении задачи 8.4

## Связь с другими задачами
- Эта задача следует за задачей 8.3: Создание страницы FAQ (`/faq`)
- После выполнения этой задачи следует перейти к задаче 8.5: Заполнение Firestore тестовыми данными для FAQ

## Обновление progress-tracking
После выполнения задачи обновите файл development-plan.md, заменив `[ ]` на `[x]` для этой задачи:
```
* [x] **task-8.4-implement-faq-list.md**: Реализация отображения списка вопросов и ответов с группировкой по категориям
```
