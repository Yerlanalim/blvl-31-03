# Задача 3.3: Интеграция `MainLayout` в `src/app/(routes)/layout.tsx`

## Описание
Интегрировать компонент `MainLayout` в файл `src/app/(routes)/layout.tsx`, чтобы все страницы основного приложения использовали единый макет.

## Ссылки на документацию
- [Этап 3, Шаг 2](../BizLevel-%20План%20Реализации%20Проекта.%2031.03.rtf): Макет `(routes)`
- [Структура проекта](../BizLevel-%20План%20Реализации%20Проекта.%2031.03.rtf): Упоминание файла `src/app/(routes)/layout.tsx`

## Конкретные шаги для Cursor
1. Обновить файл `src/app/(routes)/layout.tsx` (созданный в задаче 2.9)
2. Импортировать компонент `MainLayout` из `@/components/layout/MainLayout`
3. Обернуть содержимое в компонент `MainLayout`
4. Убедиться, что логика защиты роутов (ProtectedRoute) остается работоспособной

## Промт для Cursor
```
Помоги мне интегрировать компонент `MainLayout` в файл `src/app/(routes)/layout.tsx` для проекта BizLevel.

В задаче 2.9 мы уже создали файл `src/app/(routes)/layout.tsx` с логикой защиты роутов (проверка аутентификации и редирект на страницу входа для неаутентифицированных пользователей).

Теперь нам нужно:

1. Обновить этот файл, добавив использование компонента `MainLayout`
2. Импортировать компонент `MainLayout` из `@/components/layout/MainLayout`
3. Обернуть содержимое (children) в компонент `MainLayout`
4. Убедиться, что логика защиты роутов (проверка аутентификации и редирект) по-прежнему работает корректно

При этом порядок должен быть следующим:
1. Проверка аутентификации
2. Редирект неаутентифицированных пользователей
3. Для аутентифицированных пользователей - отображение содержимого в компоненте `MainLayout`

Пожалуйста, обнови файл `src/app/(routes)/layout.tsx` с учетом этих требований.

После выполнения задачи обнови status.md, указав, что задача 3.3 выполнена.
```

## Ожидаемый результат
- Обновленный файл `src/app/(routes)/layout.tsx`
- Интегрированный компонент `MainLayout`
- Работающая логика защиты роутов
- Единый макет для всех страниц основного приложения
- Обновленный файл status.md с отметкой о выполнении задачи 3.3

## Связь с другими задачами
- Эта задача следует за задачей 3.2: Создание компонентов `Sidebar`, `Header`, `UserNav`
- После выполнения этой задачи следует перейти к задаче 3.4: Реализация навигации в `Sidebar`

## Обновление progress-tracking
После выполнения задачи обновите файл development-plan.md, заменив `[ ]` на `[x]` для этой задачи:
```
* [x] **task-3.3-integrate-main-layout.md**: Интеграция `MainLayout` в `src/app/(routes)/layout.tsx` (включая `ProtectedRoute` из Этапа 2)
```
